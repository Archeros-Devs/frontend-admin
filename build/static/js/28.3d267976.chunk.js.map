{"version":3,"sources":["api.js","App/components/ModalImage/Index.js","Screen/Pastas/Pasta.js"],"names":["api","axios","create","baseURL","document","location","hostname","defaults","headers","common","store","getState","auth","token","LightboxExample","state","photoIndex","isOpen","images","props","this","alt","className","map","image","id","src","key","onClick","setState","reactModalStyle","overlay","zIndex","mainSrc","nextSrc","length","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","Component","SamplePage","id_pasta","match","params","pasta","imgs","loading","getFolder","get","then","res","data","retorno","console","info","msg","catch","error","nome","Spinner","animation","role","size","style","display","justifyContent","Badge","variant","categoria","moment","data_criacao","format","descricao","discussao","user_img","profile_image","displayIndex","user_nome","email","escolaridade","marginTop"],"mappings":"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","file":"static/js/28.3d267976.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { store } from './store/storage'\r\n\r\nconst api = axios.create({\r\n    baseURL: document.location.hostname === 'localhost'\r\n        ? 'http://localhost:21086/'\r\n        : 'http://peruibemelhor.nodejs7605.kinghost.net:21086/',\r\n});\r\n\r\napi.defaults.headers.common = {'Authorization': `Bearer ${store.getState().auth.token}`}\r\n\r\nexport default api;","import React, { Component } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport {Image} from 'react-bootstrap'\r\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\r\n \r\nexport default class LightboxExample extends Component {\r\n  state = {\r\n    photoIndex: 0,\r\n    isOpen: false,\r\n    images: this.props.images,\r\n  };\r\n \r\n  render() {\r\n    const { photoIndex, isOpen } = this.state;\r\n    const { images, alt } = this.props\r\n \r\n    return (\r\n      <div>\r\n        <div className='img-container'>\r\n        {images &&\r\n            images.map((image, id) => {\r\n                return  <img className='img' src={image} alt={`${alt}#${id}`} key={id} onClick={() => this.setState({ isOpen: true, photoIndex: id })}/>\r\n            })\r\n        }\r\n        </div>\r\n        {isOpen && (\r\n          <Lightbox\r\n            reactModalStyle={{overlay: {zIndex: 9999}}}\r\n            mainSrc={images[photoIndex]}\r\n            nextSrc={images.length > 1 && images[(photoIndex + 1) % images.length]}\r\n            prevSrc={images.length > 1 && images[(photoIndex + images.length - 1) % images.length]}\r\n            onCloseRequest={() => this.setState({ isOpen: false })}\r\n            onMovePrevRequest={() =>\r\n              this.setState({\r\n                photoIndex: (photoIndex + images.length - 1) % images.length,\r\n              })\r\n            }\r\n            onMoveNextRequest={() =>\r\n              this.setState({\r\n                photoIndex: (photoIndex + 1) % images.length,\r\n              })\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {Row, Col, Card, Badge, Spinner} from 'react-bootstrap';\r\n\r\nimport api from '../../api'\r\nimport Aux from \"../../hoc/_Aux\";\r\n\r\nimport ModalImage from \"../../App/components/ModalImage/Index\";\r\n\r\nimport profile_image from '../../assets/images/user/avatar-2.jpg'\r\n\r\nimport './style.scss'\r\nimport moment from 'moment';\r\n\r\nclass SamplePage extends Component {\r\n    state = {\r\n        id_pasta: this.props.match.params.id_pasta,\r\n        pasta: {},\r\n        imgs: [],\r\n        loading: true\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getFolder()\r\n    }\r\n\r\n    getFolder = () => {\r\n        /**\r\n            categoria: \"Saúde\"\r\n            data_criacao: \"2019-09-24T03:00:00.000Z\"\r\n            descricao: \"Ruínas de uma igreja do século 16 com placas de informações que detalham a importância histórica do local.\"\r\n            discussao: \"Mal iluminado\"\r\n            email: \"archeros.devs@gmail.com\"\r\n            escolaridade: \"Ensino Superior (Graduação)\"\r\n            homologada: 0\r\n            id_categoria: 1\r\n            id_pasta: 1\r\n            id_usuario: 2\r\n            localizacao: \"Estância Balneária Convento Velho, Peruíbe - SP, 11750-000\"\r\n            nome: \"Ruinas do Abarebebe\"\r\n            user_img: \"https://foxhugh.files.wordpress.com/2012/06/6-jeremy-renner-as-clint-barton-hawkeye.png\"\r\n            user_nome: \"Archeros Devs\"\r\n        **/\r\n        let id_pasta = this.state.id_pasta\r\n        api.get(`/pastas/${id_pasta}`)\r\n        .then(res => {\r\n            if(res.data.retorno){\r\n                console.info(res.data)\r\n                this.setState({pasta: res.data.pasta, imgs: res.data.imgs})\r\n            }else{\r\n                console.info(res.data.msg)\r\n            }\r\n            this.setState({loading: false})\r\n        })\r\n        .catch(error => {\r\n            console.error(error)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { pasta, loading } = this.state;\r\n        return (\r\n            <Aux>\r\n                <div className='my-container'>\r\n                    <div className='header'>\r\n                        <span className='title my-card'>{\r\n                            pasta.nome\r\n                                ? pasta.nome\r\n                                : loading\r\n                                    ? <Spinner animation=\"border\" role=\"status\" size=\"sm\"/>\r\n                                    : 'Pasta não encontrada'\r\n                        }</span>\r\n                    </div>\r\n                    {!!pasta.nome &&\r\n                    <div className='body'>\r\n                        <div className='my-card col-left'>\r\n                            <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                                <h4>{pasta.nome} <Badge variant=\"secondary\">{pasta.categoria}</Badge></h4>\r\n                                <label>{moment(pasta.data_criacao).format('DD/MM/YYYY')}</label>\r\n                            </div>\r\n                            <label className=\"text-muted mb-4\">{pasta.descricao}</label>\r\n                            <h5>Discussão</h5>\r\n                            <label className=\"text-muted mb-4\">{pasta.discussao}</label>\r\n                        </div>\r\n                        <div className='col-right'>\r\n                            <div className='my-card card-user'>\r\n                                <ModalImage\r\n                                    images={[pasta.user_img || profile_image]}\r\n                                    displayIndex={0}\r\n                                    alt='Imagem do Usuário'\r\n                                />\r\n                                <div className='info'>\r\n                                    <label>{pasta.user_nome}</label>\r\n                                    <label>{pasta.email}</label>\r\n                                    <label>{pasta.escolaridade}</label>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {!!this.state.imgs.length &&\r\n                            <div className='my-card card-imgs' style={{marginTop: '1em'}}>\r\n                                <ModalImage\r\n                                    images={this.state.imgs}\r\n                                    displayIndex={0}\r\n                                />\r\n                            </div>}\r\n                        </div>\r\n                    </div>}\r\n                </div>\r\n            </Aux>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SamplePage;"],"sourceRoot":""}